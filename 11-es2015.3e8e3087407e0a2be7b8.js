(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Kuij:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class u{}var o=t("pMnS"),s=t("iInd"),i=t("SVse");class r{constructor(){}ngOnInit(){}}var c=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;padding:60px 0}.post[_ngcontent-%COMP%]{border:1px solid #ddd;padding:15px}.post[_ngcontent-%COMP%]:not(:last-child){margin-bottom:30px}a[_ngcontent-%COMP%]{font-size:14px}"]],data:{}});function a(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,9,"div",[["class","post"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",". ",""])),(l()(),e["\u0275eld"](3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,1,"h6",[],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["Author ID - ",""])),(l()(),e["\u0275eld"](7,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==e["\u0275nov"](l,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u},null,null)),e["\u0275did"](8,671744,null,0,s.n,[s.k,s.a,i.LocationStrategy],{routerLink:[0,"routerLink"]},null),(l()(),e["\u0275ted"](-1,null,["Read more"]))],function(l,n){l(n,8,0,"/posts/"+n.context.$implicit.id)},function(l,n){l(n,2,0,n.context.$implicit.id,n.context.$implicit.title),l(n,4,0,n.context.$implicit.body),l(n,6,0,n.context.$implicit.userId),l(n,7,0,e["\u0275nov"](n,8).target,e["\u0275nov"](n,8).href)})}function p(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,a)),e["\u0275did"](2,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275and"](0,null,null,0))],function(l,n){l(n,2,0,n.component.postsList)},null)}function d(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"div",[["class","container list"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,p)),e["\u0275did"](2,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,2,0,n.component.postsList)},null)}var f=t("mrSG"),g=t("e1JD"),m=t("vkgz"),h=t("5+tZ"),v=t("lJxs");const y=(()=>{class l{}return l.type="[Posts] Get posts",l})(),I=(()=>{class l{constructor(l){this.id=l}}return l.type="[Posts] Get post",l})(),b=(()=>{class l{}return l.type="[Posts] Clear post",l})(),P=(()=>{let l=class{constructor(l,n){this.store=l,this.postsService=n}getPosts(l){if(!l.getState().list.length)return this.postsService.getPosts().pipe(Object(m.a)(n=>l.patchState({list:n})))}getPost(l,{id:n}){return this.postsService.getPost(n).pipe(Object(h.a)(()=>this.postsService.getPostComments(n).pipe(Object(v.a)(l=>l.filter(l=>l.postId===+n))))).pipe(Object(m.a)(l=>{console.log(l)}))}clearPost(l){l.patchState({activePost:null})}};return f.__decorate([Object(g.a)(y)],l.prototype,"getPosts",null),f.__decorate([Object(g.a)(I)],l.prototype,"getPost",null),f.__decorate([Object(g.a)(b)],l.prototype,"clearPost",null),f.__decorate([Object(g.f)({name:"posts",defaults:{list:[],activePost:null}})],l)})(),O=(()=>{class l{constructor(l){this.store=l}ngOnInit(){this.store.dispatch(new y)}}return f.__decorate([Object(g.e)(P)],l.prototype,"state$",void 0),l})();var C=e["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function _(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"app-post-list",[],null,null,null,d,c)),e["\u0275did"](2,114688,null,0,r,[],{postsList:[0,"postsList"]},null)],function(l,n){l(n,2,0,n.context.ngIf.list)},null)}function k(l){return e["\u0275vid"](0,[(l()(),e["\u0275and"](16777216,null,null,2,null,_)),e["\u0275did"](1,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,i.AsyncPipe,[e.ChangeDetectorRef])],function(l,n){var t=n.component;l(n,1,0,e["\u0275unv"](n,1,0,e["\u0275nov"](n,2).transform(t.state$)))},null)}function w(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-post-list-container",[],null,null,null,k,C)),e["\u0275did"](1,114688,null,0,O,[g.h],null,null)],function(l,n){l(n,1,0)},null)}var R=e["\u0275ccf"]("app-post-list-container",O,w,{},{},[]);class j{constructor(l){this.location=l}goBack(l){l.preventDefault(),this.location.back()}}var x=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.post[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{font-size:14px}"]],data:{}});function M(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,6,"div",[["class","post"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),e["\u0275ted"](2,null,["",". ",""])),(l()(),e["\u0275eld"](3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e["\u0275ted"](4,null,["",""])),(l()(),e["\u0275eld"](5,0,null,null,1,"h5",[],null,null,null,null,null)),(l()(),e["\u0275ted"](6,null,["Author ID - ",""]))],null,function(l,n){var t=n.component;l(n,2,0,t.post.id,t.post.title),l(n,4,0,t.post.body),l(n,6,0,t.post.userId)})}function $(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,M)),e["\u0275did"](2,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](3,0,null,null,1,"a",[["href","#"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goBack(t)&&e),e},null,null)),(l()(),e["\u0275ted"](-1,null,["Go back"]))],function(l,n){l(n,2,0,n.component.post)},null)}var L=t("Hg4z");const S=(()=>{class l{constructor(l,n){this.store=l,this.route=n}ngOnInit(){this.route.params.pipe(Object(L.a)(this)).subscribe(l=>{l.id&&this.store.dispatch(new I(l.id))})}ngOnDestroy(){this.store.dispatch(new b)}}return f.__decorate([Object(g.e)(P)],l.prototype,"state$",void 0),l})();var D=e["\u0275crt"]({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;padding:60px 0}"]],data:{}});function N(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"app-post-detail",[],null,null,null,$,x)),e["\u0275did"](2,49152,null,0,j,[i.Location],{post:[0,"post"]},null)],function(l,n){l(n,2,0,n.context.ngIf.post)},null)}function A(l){return e["\u0275vid"](0,[(l()(),e["\u0275and"](16777216,null,null,2,null,N)),e["\u0275did"](1,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),e["\u0275pid"](131072,i.AsyncPipe,[e.ChangeDetectorRef])],function(l,n){var t=n.component;l(n,1,0,e["\u0275unv"](n,1,0,e["\u0275nov"](n,2).transform(t.state$)))},null)}function F(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-post-detail-container",[],null,null,null,A,D)),e["\u0275did"](1,245760,null,0,S,[g.h,s.a],null,null)],function(l,n){l(n,1,0)},null)}var z=e["\u0275ccf"]("app-post-detail-container",S,F,{},{},[]),V=t("AytR"),J=t("IheW");const T=(()=>{class l{constructor(l){this.http=l}getPosts(){return this.http.get(`${V.a.dataUrl}/posts`)}getPost(l){return this.http.get(`${V.a.dataUrl}/posts/${l}`)}getPostComments(l){return this.http.get(`${V.a.dataUrl}/posts/${l}/comments`)}}return l.ngInjectableDef=e["\u0275\u0275defineInjectable"]({factory:function(){return new l(e["\u0275\u0275inject"](J.c))},token:l,providedIn:"root"}),l})();class B{}var G=t("Mrqg");t.d(n,"PostsModuleNgFactory",function(){return K});var K=e["\u0275cmf"](u,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,R,z]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,i.NgLocalization,i.NgLocaleLocalization,[e.LOCALE_ID,[2,i["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,g.w,g.w,[[3,g.w],[2,g.c]]),e["\u0275mpd"](4608,T,T,[J.c]),e["\u0275mpd"](4608,P,P,[g.h,T]),e["\u0275mpd"](1073742336,i.CommonModule,i.CommonModule,[]),e["\u0275mpd"](1073742336,s.o,s.o,[[2,s.t],[2,s.k]]),e["\u0275mpd"](1073742336,B,B,[]),e["\u0275mpd"](512,g.r,g.r,[e.Injector,g.o,[3,g.r],g.j,g.s,g.u,[2,G.a]]),e["\u0275mpd"](1024,g.l,function(){return[[P]]},[]),e["\u0275mpd"](1073742336,g.B,g.B,[g.h,g.v,g.r,[2,g.l],g.A]),e["\u0275mpd"](1073742336,u,u,[]),e["\u0275mpd"](1024,s.i,function(){return[[{path:"",component:O},{path:":id",component:S}]]},[])])})}}]);